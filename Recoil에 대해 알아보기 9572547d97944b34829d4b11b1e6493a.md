# Recoilì— ëŒ€í•´ ì•Œì•„ë³´ê¸°

![Untitled](Recoil%E1%84%8B%E1%85%A6%20%E1%84%83%E1%85%A2%E1%84%92%E1%85%A2%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%209572547d97944b34829d4b11b1e6493a/Untitled.png)

[https://codesandbox.io/p/github/khj0426/Recoil_pratice/main?workspaceId=7787d5a3-e7fc-43c2-b816-65e75a3e5c95](https://codesandbox.io/p/github/khj0426/Recoil_pratice/main?workspaceId=7787d5a3-e7fc-43c2-b816-65e75a3e5c95)

ì•„ë‹ˆë©´ í´ë¡  ë°›ì•„ë„ ë©ë‹ˆë‹¤!

[https://github.com/khj0426/Recoil_pratice](https://github.com/khj0426/Recoil_pratice)

í´ë¡ ë°›ê³  npm installí•´ì£¼ì„¸ìš”!

## ì „ì—­ ìƒíƒœ ê´€ë¦¬?

ğŸ’¬ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ì•¼ í•˜ëŠ” ë°ì´í„°ê°€ ìˆì„ ë–„ ì‚¬ìš©í•¨

propsë¡œ ì»´í¬ë„ŒíŠ¸ê°„ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê¸°ì—” í•œê³„ê°€ ìˆì„ë–„ ë„ì…í•  ìˆ˜ ìˆìŒ

â†’ì´ê±¸ props drillingì´ë¼ê³  ë¶€ë¦„!

```jsx

import React from "react";
import "./styles.css";

export default function App() {
  return (
    <div className="App">
      <FirstComponent content="Who needs me?" />
    </div>
  );
}

function FirstComponent({ content }) {
  return (
    <div>
      <h3>I am the first component</h3>;
      <SecondComponent content={content} />|
    </div>
  );
}

function SecondComponent({ content }) {
  return (
    <div>
      <h3>I am the second component</h3>;
      <ThirdComponent content={content} />
    </div>
  );
}

function ThirdComponent({ content }) {
  return (
    <div>
      <h3>I am the third component</h3>;
      <ComponentNeedingProps content={content} />
    </div>
  );
}

function ComponentNeedingProps({ content }) {
  return <h3>{content}</h3>;
}
```

ìœ„ì—ì„œëŠ” ComponentNeedingPropsì»´í¬ë„ŒíŠ¸ì—ì„œ contentë¥¼ ì“°ê¸° ìœ„í•´ ë¶ˆí•„ìš”í•œ propsì˜ ì „ë‹¬ì´ ì¡´ì¬í•¨. 

App > first > second > third > componentNeedingpropsë¡œ ë°ì´í„°ê°€ ì „ë‹¬ì´ ë¨

![Untitled](Recoil%E1%84%8B%E1%85%A6%20%E1%84%83%E1%85%A2%E1%84%92%E1%85%A2%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%209572547d97944b34829d4b11b1e6493a/Untitled%201.png)

-ì „ì—­ ìƒíƒœê´€ë¦¬ ë„êµ¬ë¡œ ë¦¬ëª¨íŠ¸ ë°ì´í„° ìŠ¤í‚¤ë§ˆ(ì„œë²„ë¡œë¶€í„°ì˜ ë°ì´í„°), ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬ í•  ìˆ˜ ìˆìŠ´

---

### ì—¬ëŸ¬ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë„êµ¬ë“¤..

ë¦¬ë•ìŠ¤

Mobx

XState

Zustand

Recoil

SWR

ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ ë“±ë“±ë“±â€¦. ë„ˆë¬´ë„ˆë¬´ ë§ìŒ

---

### ê·¸ë˜ì„œ ë¦¬ì½”ì¼ì´ ë­ì„?

2020ë…„ì— í˜ì´ìŠ¤ë¶ì—ì„œ ë§Œë“  ìƒíƒœ ê´€ë¦¬ ë„êµ¬.

ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ì—…ë°ì´íŠ¸ í•˜ëŠ” ê³¼ì •ì´ ìƒë‹¹íˆ í¸ë¦¬í•˜ê³  ìœ ìš©í•¨

ì „ì—­ ìƒíƒœê´€ë¦¬ë¥¼ ì¤‘ì•™ ì§‘ì¤‘í™”ì ì¸ í˜•íƒœë¡œ ê´€ë¦¬í•˜ê³  ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì™€ ë…ë¦½ì ì„!

ë” ì½ì–´ë³¼ ê±°ë¦¬ë“¤..(ë¦¬ì½”ì¼ì˜ ì¥ì ì— ëŒ€í•´ ì„¤ëª…í•œ ê¸€ë“¤)

[https://techblog.yogiyo.co.kr/recoilì„-ì´ìš©í•œ-ì†ì‰¬ìš´-ìƒíƒœê´€ë¦¬-b70b32650582](https://techblog.yogiyo.co.kr/recoil%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%86%90%EC%89%AC%EC%9A%B4-%EC%83%81%ED%83%9C%EA%B4%80%EB%A6%AC-b70b32650582)

[https://blog.woolta.com/categories/1/posts/209](https://blog.woolta.com/categories/1/posts/209)

---

### ê·¸ëŸ¼ ì œëŒ€ë¡œ ê³ 

ë¦¬ì½”ì¼ì—ì„œ í•˜ë‚˜ì˜ ì „ì—­ ìƒíƒœëŠ” í•œ Atomì´ë¼ê³  ë¶€ë¦„.

Atomì€ ì–´ëŠ ì»´í¬ë„ŒíŠ¸ì— ë¬¶ì—¬ìˆì§€ ì•Šê³ , ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ ìƒíƒœ.

ì´ Atomì´ ë°”ë€Œë©´ í•´ë‹¹ ìƒíƒœë¥¼ êµ¬ë…í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì—…ë°ì´íŠ¸ë¨

Atomì˜ ì„ ì–¸ ë°©ì‹ì€ ìƒë‹¹íˆ ê°„ë‹¨í•¨.

keyì™€ defaultë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì ì–´ì¤˜ì•¼ í•˜ëŠ”ë°, 

keyëŠ” atomì„ ì‹ë³„í•˜ëŠ” ê³ ìœ í•œ ë¬¸ìì—´ì´ê³  defaultëŠ” atomì˜ ì´ˆê¸° ìƒíƒœì„

src > Atom > Atom.ts (êµ‰ì¥íˆ ê°„í¸í•˜ê²Œ atomì„ ì„ ì–¸í•  ìˆ˜ ìˆì–´ìš” ğŸ¤)

```jsx
export const countAtom = atom<number>({
  key: 'countState',
  default: 0,
});
```

---

### Selector

selectorëŠ” íŒŒìƒëœ ìƒíƒœì˜ ì¼ë¶€ë¥¼ ë‚˜íƒ€ëƒ„.

íŒŒìƒëœ ìƒíƒœë¥¼ ì–´ë–¤ ë°©ë²•ìœ¼ë¡œë“  ì£¼ì–´ì§„ ìƒíƒœë¥¼ ìˆ˜ì •í•˜ëŠ” í•¨ìˆ˜ì— ì „ë‹¬ëœ ìƒíƒœì˜ ê²°ê³¼.

**atomì˜ outputì„ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ì´ë©° atomì— ì˜ì¡´í•˜ëŠ” ë™ì ì¸ ë°ì´í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠ´!**

ê·¸ëŸ¬ë©´ Atomì´ë‘ SelectorëŠ” ì–´ë–¤ ê´€ê³„ì¸ê°€????

![Untitled](Recoil%E1%84%8B%E1%85%A6%20%E1%84%83%E1%85%A2%E1%84%92%E1%85%A2%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%209572547d97944b34829d4b11b1e6493a/Untitled%202.png)

atomì„ selectorë¥¼ í†µí•´ ì—…ë°ì´íŠ¸ í•˜ê³ , ì´ë¥¼ í†µí•´ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ì—…ë°ì´íŠ¸ë˜ëŠ”

**ë‹¨ë°©í–¥ì˜ ë°ì´í„° íë¦„**ì„ ìœ ì§€í•¨! 

![Untitled](Recoil%E1%84%8B%E1%85%A6%20%E1%84%83%E1%85%A2%E1%84%92%E1%85%A2%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%209572547d97944b34829d4b11b1e6493a/Untitled%203.png)

ë” ì½ì–´ë³¼ ê±°ë¦¬ë“¤..(FluxíŒ¨í„´ğŸ˜œ)

[https://velog.io/@andy0011/Flux-íŒ¨í„´ì´ë€](https://velog.io/@andy0011/Flux-%ED%8C%A8%ED%84%B4%EC%9D%B4%EB%9E%80)

---

### ë¦¬ì½”ì¼ì„ ì‚¬ìš©í•˜ê¸° ì „ì— ì ê¹ ğŸ¤ª

RecoilRootë¡œ ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ì£¼ì–´ì•¼ ë¦¬ì½”ì¼ì„ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

index.tsxì— RecoilRootë¡œ ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ì¸ Appì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ì£¼ì—ˆì–´ìš”

src > index.tsx

```jsx
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';
import reportWebVitals from './reportWebVitals';
import { RecoilRoot } from 'recoil';

const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);
root.render(
  <React.StrictMode>

//ì´ë¶€ë¶„! RecoilRootë¡œ Rootì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ì¤ì‹œë‹¹
    <RecoilRoot>
      <App />
    </RecoilRoot>
  </React.StrictMode>
);

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
```

---

### ê·¸ëŸ¼ ì¹´ìš´í„°ë¥¼ ë¦¬ì½”ì¼ë¡œ ë§Œë“¤ì–´ ë³¼ê¹Œìš”? ğŸ¥¸

ë¨¼ì € ì¹´ìš´í„°ì˜ ìƒíƒœë¥¼ ì •ì˜í•´ì•¼í•¨. ì¹´ìš´í„°ì˜ ìƒíƒœë¥¼ atomì— ì „ì—­ì ìœ¼ë¡œ ì €ì¥í• ê±°ì„.

src > Atom > Atom.ts

```
import { atom } from 'recoil';
import { selector } from 'recoil';

export const countAtom = atom<number>({
//atomì˜ í‚¤ëŠ” ê³ ìœ í•´ì•¼ í•˜ê³ 
  key: 'countState',
//ì¹´ìš´í„°ì˜ ì´ˆê¸°ê°’
  default: 0,
});

//selectorëŠ” get setí•¨ìˆ˜ê°€ ì¡´ì¬í•¨

export const countSelector = selector({
  key: 'countSelector',
  get: ({ get }) => {
    return get(countAtom);
  },

  set: ({ set }, newState) => {
    set(countAtom, newState);
  },
});
```

selectorì—ëŠ” getê³¼ setí•¨ìˆ˜ê°€ ì¡´ì¬í•¨! getí•¨ìˆ˜ë§Œ ì¡´ì¬í•˜ëŠ” selectorëŠ” 

ì½ê¸°ë§Œ ê°€ëŠ¥í•œ RecoilValueReadOnlyê°ì²´ë¥¼, setê°€ ì œê³µë˜ë©´ selectorëŠ” ì“°ê¸° ê°€ëŠ¥í•œ RecoilStateê°ì²´ë¥¼ ë°˜í™˜í•¨

### get (ìƒíƒœê°’ì„ ì½ì–´ì„œ ë°˜í™˜)

```jsx
get:({get}) => {
	//ê°€ì ¸ì˜¬ ë‚´ìš©
}
```

### set(ìƒíƒœê°’ì„ ë³€ê²½í• ë–„ ì‚¬ìš©í•¨)

```jsx
set: ({ set }, newValue) => {
	// ë³€ê²½ë‚´ìš©
	// set(ê°€ì ¸ì˜¨ ê°’, ë³€ê²½(return)ì‹œí‚¬ ê°’)
}
//ë‘ë²ˆì¨° ì¸ìë¡œ ë³€ê²½ëœ ìƒˆë¡œìš¸ ê°’ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
```

ê·¸ëŸ¬ë©´ ì¹´ìš´í„° atomì˜ ê°’ì„ ì½ê±°ë‚˜ ë³€ê²½ê°€ëŠ¥í•˜ë„ë¡ selectorë¥¼ ë§Œë“¤ì–´ ë³´ì•„ìš” ğŸ¥¸

```jsx

export const countSelector = selector({
  key: 'countSelector',

//ì¹´ìš´í„°ì˜ ìƒíƒœë¥¼ ì½ëŠ” get
  get: ({ get }) => {
    return get(countAtom);
  },

//ì¹´ìš´í„°ì˜ ìƒíƒœë¥¼ ë‘ë²ˆì¨° ì¸ìë¡œ ìƒˆë¡œ ë°”ê¾¸ëŠ” set
  set: ({ set }, newState) => {
    set(countAtom, newState);
  },
});

```

---

### useRecoilValueì™€ useRecoilState

### useRecoilState

atomì´ë‚˜ selectorì˜ ê°’ì„ **ì½ê³  ì“°ê¸°** ìœ„í•´ ì‚¬ìš©í•¨. useState()ì™€ ì•„ì£¼ ë¹„ìŠ·í•˜ê²Œ ìƒê²¨ë¨¹ì—ˆì–´ìš”

ë‹¤ë¥¸ì ì€ ê¸°ë³¸ê°’ìœ¼ë¡œ recoilì˜ ìƒíƒœë¥¼ ì¸ìë¡œ ë°›ìŒ!

ìƒíƒœê°€ ë°”ë€Œë©´ ìë™ìœ¼ë¡œ ëœë”ë§ì´ ë°œìƒí•©ë‹ˆë‹¤

---

### useRecoilValue

atomì´ë‚˜ selectorì˜ ê°’ì„ **ì½ê¸°ë§Œ í•˜ê¸° ìœ„í•´** ì‚¬ìš©í•¨. ë§ˆì°¬ê°€ì§€ë¡œ ìƒíƒœê°€ ë°”ë€Œë©´ ëœë”ë§ ë°œìƒ

ê·¸ëŸ¼ ì´ê±¸ ì‚¬ìš©í•´ë³¼ê¹Œìš”?

src > Count.tsx

```tsx
import { useRecoilState } from 'recoil';
import { countAtom } from './Atom/Atom';

const Count = () => {
  const [count, setCount] = useRecoilState(countAtom);
  return (
    <div>
      <button
        onClick={() => setCount(count + 1)}
        style={{
          width: '300px',
          height: '300px',
        }}
      >
        +
      </button>
      <button
        onClick={() => setCount(count - 1)}
        style={{
          width: '300px',
          height: '300px',
        }}
      >
        -
      </button>
      <div>{count}</div>
    </div>
  );
};

export default Count;
```

ì¼ë°˜ì ì¸ useStateë¥¼ ì‚¬ìš©í•˜ë“¯ì´ useRecoilStateë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì´ˆê¸°ê°’ì— ì¹´ìš´í„° atomì˜ ìƒíƒœë¥¼ ë„£ì–´ì¤€ ë¶€ë¶„ì€ useStateì™€ ë‹¤ë¥´ë„¤ìš”!

ê·¸ë¦¬ê³  ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ì¹´ìš´í„° atomì˜ ìƒíƒœê°€ ë°”ë€Œê²Œ ë©ë‹ˆë‹¤!

atomì˜ ê°’ì´ ìƒˆë¡œ ë°”ë€Œì—ˆìœ¼ë¯€ë¡œ, ë‹¤ì‹œ ëœë”ë§ì´ ë°œìƒí•˜ëŠ” ê²ƒë„ ë³¼ ìˆ˜ ìˆì–´ìš” ğŸ¥¸

ì´ë²ˆì—ëŠ” src > AnotherCount.tsxë¥¼ ë³¼ê¹Œìš”?

src > AnotherCount.tsx

```jsx
import { useRecoilValue } from 'recoil';
import { countAtom } from './Atom/Atom';
import { useEffect } from 'react';

const AnotherCount = () => {
  const count = useRecoilValue(countAtom);
  useEffect(() => {
    console.log(`countê°€ ${count}ë¡œ ë°”ë€Œì—ˆì–´ìš”`);
  }, [count]);
  return (
    <div>ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ê°™ì€ atomì„ êµ¬ë…í•˜ë©´, ë¦¬ëœë”ë§ì´ ë°œìƒí•©ë‹ˆë‹¤!</div>
  );
};

export default AnotherCount;
```

useRecoulValueë¡œ countAtomì„ ë„£ì–´ì£¼ì—ˆì–´ìš”. ì•„ê¹Œì™€ ë™ì¼í•œ ìƒíƒœë¥¼ êµ¬ë…í•˜ê³  ìˆëŠ”ë°,

ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ìƒˆë¡œìš´ ìƒíƒœë¡œ ë°”ë€Œë©´, ì´ AnotherCountì»´í¬ë„ŒíŠ¸ë„ ìƒˆë¡­ê²Œ ëœë”ë§ì´ ì¼ì–´ë‚©ë‹ˆë‹¤ ğŸ¤

---

### ë¹„ë™ê¸° Selector

selectorë¥¼ í†µí•´ ë¹„ë™ê¸° ì‘ì—…ë„ ì²˜ë¦¬ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

getterë¥¼ asyncí•¨ìˆ˜ë¡œ ê°ì‹¸ë©´ ë¹„ë™ê¸° ì‘ì—…ì„ selectorì—ì„œ ì‹¤í–‰ í•  ìˆ˜ ìˆì–´ìš”!

![Untitled](Recoil%E1%84%8B%E1%85%A6%20%E1%84%83%E1%85%A2%E1%84%92%E1%85%A2%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%209572547d97944b34829d4b11b1e6493a/Untitled%204.png)

### ì£¼ì˜í•´ì•¼ í•  ì  ğŸ™„

selectorì˜ setí•¨ìˆ˜ì—ëŠ” ë¹„ë™ê¸°ê°€ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤!

![Untitled](Recoil%E1%84%8B%E1%85%A6%20%E1%84%83%E1%85%A2%E1%84%92%E1%85%A2%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%209572547d97944b34829d4b11b1e6493a/Untitled%205.png)

selectorê°€ ë‹¤ë¥¸ ë¦¬ì½”ì¼ì˜ ìƒíƒœì— ì˜ì¡´í•˜ê¸° ë–„ë¬¸ì— ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤ ğŸ˜€

Recoil Selectorì˜ **`set`** ë©”ì†Œë“œëŠ” ë™ê¸°ì ìœ¼ë¡œ ë™ì‘í•˜ë©°, ì´ëŠ” Selectorê°€ ë‹¤ë¥¸ Recoil ìƒíƒœ ê°’ì— ì˜ì¡´í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. 

ë°˜ë©´, **`atom`**ì€ ë¹„ë™ê¸°ì ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©ë˜ë©°, ì´ëŠ” ë¹„ë™ê¸° ì½œë°± í•¨ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤

---

### ë¹„ë™ê¸°ë¡œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

ë¹„ë™ê¸°ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì€ ì—„ì²­ ê°„ë‹¨í•©ë‹ˆë‹¤. getterì— asyncë¥¼ ê±¸ì–´ì¤ì‹œë‹¤!

src > TodoAtom.ts

```jsx
import { atom } from 'recoil';
import { selector } from 'recoil';

//ë¹„ë™ê¸°ë¡œ ê°€ì ¸ì˜¬ ë°ì´í„°ì˜ íƒ€ì… ì„ ì–¸
type Todo = {
  userId: number;
  id: number;
  title: string;
  completed: boolean;
};

const TodoSelector = selector<Todo[]>({
  key: 'asyncDataSelector',
//getì— asyncë¥¼ ë‹¬ë©´ ë¹„ë™ê¸°ì ìœ¼ë¡œ selectorë¥¼ ì“¸ ìˆ˜ ìˆìŒ
  get: async ({ get }) => {
    const todos = await fetch('https://jsonplaceholder.typicode.com/todos');
    const todo = await todos.json();
    return todo;
  },
});

export default TodoSelector;
```

### ì»´í¬ë„ŒíŠ¸ì— ì•„ì§ ë¹„ë™ê¸° ë°ì´í„°ê°€ ì˜¤ì§€ ì•Šì•˜ì„ ë•Œì˜ ì²˜ë¦¬ ë°©ë²•

ì¼ë°˜ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì˜ Suspenseë¥¼ ì´ë•Œ ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.

ì»´í¬ë„ŒíŠ¸ì˜ ëœë”ë§ì„ ì–´ë–¤ ì‘ì—…ì´ ëë‚ ë–„ê¹Œì§€ ì¤‘ë‹¨ì‹œí‚¤ê³ , ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¨¼ì € ëœë”ë§ í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ê¸°ëŠ¥ì„ Suspenseë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.

ì´ Suspenseë¥¼ ì‚¬ìš©í•˜ë©´ ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ fallbackUIë¥¼ ë³´ì—¬ì£¼ê³ , ê·¸ ì‚¬ì´ ë‹¤ë¥¸ UIë¥¼ ëœë”ë§ í•  ìˆ˜ ìˆì–´ìš”

ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ Loading..í™”ë©´ì„ ë„ìš°ë„ë¡ í•´ë³´ê¸° ìœ„í•´ 

src > TodoAtom.tsì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•´ ë´…ì‹œë‹¹

```jsx
import { atom } from 'recoil';
import { selector } from 'recoil';

type Todo = {
  userId: number;
  id: number;
  title: string;
  completed: boolean;
};
const TodoSelector = selector<Todo[]>({
  key: 'asyncDataSelector',
  get: async ({ get }) => {
    await new Promise((resolve) => setTimeout(resolve, 5000)); // 5ì´ˆ ì§€ì—°ì‹œê°„ ì„¤ì •
    const todos = await fetch('https://jsonplaceholder.typicode.com/todos');
    const todo = await todos.json();
    return todo;
  },
});

	export default TodoSelector;
```

ì´ë ‡ê²Œ í•˜ë©´ 5ì´ˆê°€ëŸ‰ì˜ ì§€ì—°ì´ ë°œìƒí•˜ëŠ”ë°, ì´ë–„ Loadingâ€¦ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤ ğŸ˜‡

src > App.tsx

```jsx
import React, { Suspense } from 'react';
import { RecoilRoot } from 'recoil';
import UserComponent from './Todo';
import Count from './Count';

function App() {
  return (
    <div className="App">
      <RecoilRoot>
        <Count />
//fallbackUIë¡œ ë¡œë”©ì„ ë„ì›Œì¤ë‹ˆë‹¤

        <Suspense fallback={<div>Loading...</div>}>
          <UserComponent />
        </Suspense>
      </RecoilRoot>
    </div>
  );
}

	export default App;
```

ê·¸ëŸ¼ ë¹„ë™ê¸° ë°ì´í„°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” 5ì´ˆ ê°€ëŸ‰ì€ fallback UIì¸ Loadingâ€¦ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ë˜ê³ ,

ê·¸ ì´í›„ì—ëŠ” ì •ìƒì ìœ¼ë¡œ UserComponentê°€ ëœë”ë§ ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆì–´ìš”!

ë¹„ë™ê¸° ë°ì´í„°ë¥¼ ê¸°ë‹¤ë¦´ ë™ì•ˆ..

![Untitled](Recoil%E1%84%8B%E1%85%A6%20%E1%84%83%E1%85%A2%E1%84%92%E1%85%A2%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%209572547d97944b34829d4b11b1e6493a/Untitled%206.png)

ë¹„ë™ê¸° ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ ë’¤..

![Untitled](Recoil%E1%84%8B%E1%85%A6%20%E1%84%83%E1%85%A2%E1%84%92%E1%85%A2%20%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5%209572547d97944b34829d4b11b1e6493a/Untitled%207.png)

Suspenseì— ëŒ€í•´ ë” ì½ì–´ë³¼ ìë£Œë“¤

[https://blog.mathpresso.com/conceptual-model-of-react-suspense-a7454273f82e](https://blog.mathpresso.com/conceptual-model-of-react-suspense-a7454273f82e)

[https://www.daleseo.com/react-suspense/](https://www.daleseo.com/react-suspense/)

# ë! ğŸ¤©